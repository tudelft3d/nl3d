{
  "type": "CityJSON_Extension",
  "name": "NL3D",
  "uri": "https://github.com/hugoledoux/nl3d/blob/master/schemas/extensions/nl_3d.json",
  "version": "0.1",
  "description": "NL3D data model as a CityJSON Extension.",


  "extraRootProperties": {

    "@context": {
      "type": "array",
      "items": {
        "anyOf": [
          {"type": "string"},
          {"type": "object"}
        ]
      }
    }
  
  },



  "extraCityObjects": {

    "+Gebouw": {
      "allOf": [
        { "$ref": "../cityobjects.schema.json#/_AbstractCityObject" },
        {
          "properties": {
            "type": { "enum": ["+Gebouw"] },
            "toplevel": {"type": "boolean"},
            "attributes": {
              "properties": {
                "gebouwnummer": { "type": "string" }
              }
            },
            "@context": { 
              "type": "string",  
              "format": "uri-reference",
              "description": "required for json-ld"
            },
            "address": {
              "type": "object",
              "properties": {
                "CountryName": {"type": "string"},
                "LocalityName": {"type": "string"},
                "ThoroughfareNumber": {"type": "string"},
                "ThoroughfareName": {"type": "string"},
                "PostalCode": {"type": "string"},
                "location": {"$ref": "../geomprimitives.schema.json#/MultiPoint"}
              }
            }
          },
          "required": ["type", "toplevel", "geometry", "children"],
          "additionalProperties": "false"
        }
      ]
    },

    "+Pand": {
      "allOf": [
        { "$ref": "../cityobjects.schema.json#/_AbstractCityObject"},
        {
          "properties": {
            "type": { "enum": ["+Pand"] },
            "toplevel": {"type": "boolean"},
            "@context": { 
              "type": "string",  
              "format": "uri-reference"
            },
            "attributes": {
              "properties": {
                "yearOfConstruction": { "type": "integer" },
                "gebouwnummer": { "type": "string" },
                "statusOmschr": { "type": "string" },
                "hoogste_bouwlaag": { "type": "integer" },
                "hoogste_bouwlaag": { "type": "integer" },
                "laagste_bouwlaag": { "type": "integer" },
                "aantalBouwlagen": { "type": "integer" }
              }
            },            
            "geometry": {
              "type": "array",
              "items": {
                "oneOf": [
                  {"$ref": "../geomprimitives.schema.json#/Solid"},
                  {"$ref": "../geomprimitives.schema.json#/CompositeSolid"},
                  {"$ref": "../geomprimitives.schema.json#/MultiSurface"}
                ]
              }
            }        
          },
          "required": ["type", "toplevel", "geometry"]
        }
      ]
    },

    "+PandInstallatie": {
      "type": "object"
    },

    "+VegetatieObject": {
      "allOf": [
        { "$ref": "../cityobjects.schema.json#/_AbstractCityObject"},
        {
          "properties": {
            "type": { "enum": ["+VegetatieObject"] },
            "toplevel": {"type": "boolean"},
            "@context": { 
              "type": "string",  
              "format": "uri-reference",
              "description": "required for json-ld"
            },
            "attributes": {
              "properties": {
                "species": {"type": "string"},
                "trunkDiameter": {"type": "number"},
                "crownDiameter": {"type": "number"}
              }
            },
            "geometry": {
              "type": "array",
              "items": {
                "oneOf": [
                  {"$ref": "../geomprimitives.schema.json#/MultiPoint"},
                  {"$ref": "../geomprimitives.schema.json#/MultiLineString"},
                  {"$ref": "../geomprimitives.schema.json#/Solid"},
                  {"$ref": "../geomprimitives.schema.json#/MultiSolid"},
                  {"$ref": "../geomprimitives.schema.json#/CompositeSolid"},
                  {"$ref": "../geomprimitives.schema.json#/MultiSurface"},
                  {"$ref": "../geomprimitives.schema.json#/CompositeSurface"},
                  {"$ref": "../geomtemplates.schema.json#/GeometryInstance"}
                ]
              }
            }        
          },
          "required": ["type", "geometry", "toplevel"]
        }
      ]
    },

    "+Lichtmast": {
      "allOf": [
        { "$ref": "../cityobjects.schema.json#/_AbstractCityObject"},
        {
          "properties": {
            "type": { "enum": ["+Lichtmast"] },
            "toplevel": {"type": "boolean"},
            "@context": { 
              "type": "string",  
              "format": "uri-reference",
              "description": "required for json-ld"
            },
            "attributes": {
              "properties": {
                "blablabla": {"type": "string"}
              }
            },
            "geometry": {
              "type": "array",
              "items": {
                "oneOf": [
                  {"$ref": "../geomprimitives.schema.json#/MultiPoint"},
                  {"$ref": "../geomprimitives.schema.json#/MultiLineString"},
                  {"$ref": "../geomprimitives.schema.json#/Solid"},
                  {"$ref": "../geomprimitives.schema.json#/MultiSolid"},
                  {"$ref": "../geomprimitives.schema.json#/CompositeSolid"},
                  {"$ref": "../geomprimitives.schema.json#/MultiSurface"},
                  {"$ref": "../geomprimitives.schema.json#/CompositeSurface"},
                  {"$ref": "../geomtemplates.schema.json#/GeometryInstance"}
                ]
              }
            }        
          },
          "required": ["type", "geometry", "toplevel"]
        }
      ]
    }
  

  }


}
 